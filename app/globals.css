@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  基本的なページ設定と、
  Tailwindのテーマで定義したカスタムフォントを適用します。
*/
body {
  @apply font-sans bg-brand-beige text-brand-text-main antialiased;
}

/* 
  hタグに、カスタムフォント'display'を適用します。
  文字サイズやマージンは、各コンポーネント内でユーティリティクラスを使って指定します。
*/
h1, h2, h3, h4, h5, h6 {
  @apply font-display text-brand-brown-dark;
}

/* 2行トリム用のユーティリティクラス */
.clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/*
  @layer components を使って、
  再利用頻度の高いカスタムコンポーネントクラスを定義します。
  これにより、JSX内がクラス名で溢れかえるのを防ぎます。
*/
@layer components {
  /* レポート全体のラッパー */
  .visage-report-wrapper {
    @apply max-w-4xl mx-auto p-4 sm:p-8 font-sans bg-white shadow-card rounded-2xl my-8;
  }
  /* ヘッダー */
  .visage-header {
    @apply flex justify-between items-center pb-4 border-b border-gray-200 mb-8;
  }
  .visage-header .logo {
    @apply flex items-center gap-2 text-2xl font-bold font-display text-brand-pink-brown;
  }
  .visage-header .lang-switcher button {
    @apply px-3 py-1 text-sm rounded-md transition-colors;
  }
  .visage-header .lang-switcher button.active {
    @apply bg-brand-pink-brown text-white;
  }

  /* カード */
  .vs-card {
    @apply bg-brand-beige rounded-2xl p-4 text-center;
  }
  .vs-card .vs-label {
    @apply flex items-center justify-center gap-2 text-sm text-brand-text-sub mb-2;
  }
  .vs-card .vs-main-num {
    @apply text-5xl font-bold font-display text-brand-brown-dark;
  }
  .vs-card .vs-main-num span {
    @apply text-lg font-sans text-brand-text-sub ml-1;
  }
  .vs-card .vs-value {
    @apply text-xl font-semibold text-brand-brown-dark;
  }

  /* チャートカード */
  .visage-chart-card, .visage-insight-card {
    @apply bg-brand-beige rounded-2xl p-6;
  }
  
  /* ルーチンカード */
  .vs-routine-card {
    @apply bg-brand-beige rounded-2xl p-6;
  }
  .vs-routine-card.night {
    @apply bg-brand-brown-dark text-white;
  }
  .vs-routine-head {
    @apply font-bold text-xl mb-4 flex items-center gap-2;
  }
  .vs-step-list .vs-step {
    @apply py-3 px-4 mb-2 bg-white/50 rounded-lg;
  }
  .vs-routine-card.night .vs-step-list .vs-step {
    @apply bg-white/10;
  }
   .vs-routine-card.night .vs-step.special {
    @apply bg-brand-pink-brown/50;
  }

  /* 成分カード */
  .vs-ingredient-card {
     @apply bg-brand-beige rounded-2xl p-6;
  }
  .vs-ing-head {
    @apply font-bold text-xl mb-4 flex items-center gap-2;
  }
  .vs-ing-list {
    @apply flex flex-wrap gap-2;
  }
  .vs-ing-list .pill {
    @apply bg-white/80 text-sm px-3 py-1 rounded-full;
  }
  
  /* CTAカード */
  .visage-cta-card {
    @apply bg-brand-pink-hover text-white rounded-2xl p-8 mt-12 text-center relative overflow-hidden;
  }
  .visage-cta-btn {
    @apply mt-6 inline-flex items-center gap-2 bg-white text-brand-pink-brown px-6 py-3 rounded-full font-bold shadow-lg transition-transform hover:scale-105;
  }
}

:root{
  --brand: 234 89% 62%; /* indigo系 */
  --bg: 210 40% 98%;
  --card: 0 0% 100%;
  --fg: 222 47% 11%;
  --muted: 215 16% 47%;
}
html { font-size:16px; scroll-behavior:smooth; }
body { color: hsl(var(--fg)); background: hsl(var(--bg)); }
.prose-base { line-height:1.75; letter-spacing:0; }
.section { padding-block:4rem; }
 @media (min-width:1024px){ .section{ padding-block:6rem; } }

 html { scroll-behavior: smooth; }

/* Footer下の不可解な空白対策：UA marginをゼロに */
html, body {
  margin: 0;
  padding: 0;
}

/* もしベースに prose/markdown が混じる場合の安全装置（任意） */
footer p:last-child {
  margin-bottom: 0;
}

@media print {
  header, nav, footer { display: none !important; }
  main { max-width: 100% !important; padding: 0 !important; }
  section { box-shadow: none !important; border: none !important; page-break-inside: avoid; }
  .card { page-break-inside: avoid; }
  a[href]:after { content: " (" attr(href) ")"; font-size: 10px; }
  img { filter: none !important; }
  .bg-sky-50, .bg-violet-50, .bg-emerald-50, 
  .bg-gradient-to-br { background-color: white !important; }
  .from-sky-50, .to-sky-100, .from-violet-50, .to-violet-100,
  .from-emerald-50, .to-emerald-100, .from-gray-50, .to-gray-100 { background: white !important; }
  
  /* 印刷時の追加調整 */
  .print\\:hidden { display: none !important; }
  button { display: none !important; }
  .fixed { position: static !important; }
  
  /* コントラスト維持 */
  .text-muted-foreground { color: #374151 !important; }
  .text-slate-500 { color: #374151 !important; }
  .text-gray-600 { color: #374151 !important; }
}

:root {
  --va-accent: #0ea5e9; /* sky-500 */
  --va-accent-weak: #38bdf8; /* sky-400 */
}
.badge {
  @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-medium;
}
.section {
  @apply rounded-2xl border bg-white p-6 shadow-sm;
}
.section-muted {
  @apply rounded-2xl border bg-muted/20 p-6 shadow-sm;
}

/* 2行トリム用のユーティリティクラス（既存の.clamp-2と競合しないよう追加） */
.clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* focus ring 明示 */
button:focus-visible, a:focus-visible { 
  outline: 2px solid var(--va-accent); 
  outline-offset: 2px; 
}

@media print {
  header, nav, footer { display: none !important; }
  .print\:hidden { display: none !important; }
  main { max-width: 100% !important; padding: 0 !important; }
  section { box-shadow: none !important; border: none !important; page-break-inside: avoid; }
  .card { page-break-inside: avoid; }
}

:root{
  --va-accent:#0ea5e9;
  --va-sky-100:#e0f2fe; --va-sky-200:#bae6fd; --va-sky-300:#7dd3fc;
  --va-vio-100:#ede9fe; --va-vio-200:#ddd6fe; --va-vio-300:#c4b5fd;
  --va-emer-100:#d1fae5; --va-emer-200:#a7f3d0; --va-emer-300:#6ee7b7;
}
.score-tile{
  @apply rounded-xl p-5 text-center shadow-sm border;
  background-image: linear-gradient(135deg,var(--from),var(--via),var(--to));
}
.score-reflection{
  background: linear-gradient(180deg,rgba(255,255,255,.28),rgba(255,255,255,0));
}
.section{ @apply rounded-2xl border bg-white p-6 shadow-sm; }
.section-muted{ @apply rounded-2xl border bg-slate-50 p-6 shadow-sm; }
.badge{ @apply inline-flex items-center rounded-full border px-2.5 py-0.5 text-[11px] font-medium; }
.accent-bar{ @apply h-0.5 w-10 rounded; background: var(--va-accent); }
.clamp-2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }
.radar-axis{ fill:#475569; }
@media print{
  .print\:hidden{display:none!important}
  section{ box-shadow:none!important; border:none!important; page-break-inside:avoid }
}